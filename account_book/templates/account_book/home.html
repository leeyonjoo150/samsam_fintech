<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÏÇºÏÇº Í∞ÄÍ≥ÑÎ∂Ä</title>
    {% load static %}
{% load humanize %}
    <link rel="stylesheet" href="{% static 'account_book/css/home.css' %}">
    <link rel="stylesheet" href="{% static 'account_book/css/panel.css' %}">
    <link rel="stylesheet" href="{% static 'account_book/css/downpanel.css' %}">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
    .search-results-container {
        display: none; /* Initially hidden */
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        background-color: #f0f0f0;
        border-radius: 8px;
        margin-bottom: 15px;
    }
    .search-summary {
        display: flex;
        flex-direction: column;
    }
    .search-results-text {
        font-weight: bold;
        font-size: 1.1em;
    }
    .search-period {
        font-size: 0.9em;
        color: #666;
    }
    .search-filters .filter-btn {
        background-color: #fff;
        border: 1px solid #ccc;
        border-radius: 20px;
        padding: 5px 15px;
        margin-left: 5px;
        cursor: pointer;
    }
    .search-filters .filter-btn:hover {
        background-color: #e0e0e0;
    }
</style>
</head>

<body>
    <div class="header">
        <a href="{% url 'main:index' %}" class="header-title-link">
            <div class="header-title">
                <span class="material-icons">account_balance_wallet</span>
                <span>ÏÇºÏÇº ÌïÄÌÖåÌÅ¨</span>
            </div>
        </a>
        <div class="header-controls">
            <span class="material-icons header-icon">person</span>
        </div>
    </div>
    
    <div class="container">
        <div class="sidebar">
            <div class="sidebar-item active">
                <span class="material-icons sidebar-icon">list</span>
                <span>ÎÇ¥Ïó≠</span>
            </div>
        </div>
        
        <!-- ÎÇ†Ïßú -->
        <div class="main-content">
            <div class="content-header">
                <div class="date-navigation" id="date-navigation-area">
                    <button class="date-navigation-button" onclick="changeDate(-1)">&lt;</button>
                                <span id="current-month-display" class="date-display"></span>
                    <button class="date-navigation-button" onclick="changeDate(1)">&gt;</button>
                </div>
                
                {% block extra_js %}
                <script>
                    let currentYear = new Date().getFullYear();
                    let currentMonth = new Date().getMonth() + 1;  // JSÏóêÏÑúÎäî 0~11

                    function updateMonthDisplay() {
                        document.getElementById("current-month-display").textContent =
                            `${currentYear}ÎÖÑ ${currentMonth}Ïõî`;
                    }

                    function changeDate(direction) {
                        // Î∞©Ìñ•: -1 (Ïù¥Ï†Ñ Îã¨), +1 (Îã§Ïùå Îã¨)
                        currentMonth += direction;
                        if (currentMonth < 1) {
                            currentMonth = 12;
                            currentYear -= 1;
                        } else if (currentMonth > 12) {
                            currentMonth = 1;
                            currentYear += 1;
                        }

                        updateMonthDisplay();

                        // üëâ Ïó¨Í∏∞ÏÑú GET ÏöîÏ≤≠ÏúºÎ°ú home Îã§Ïãú Î°úÎìú
                        const url = `?year=${currentYear}&month=${currentMonth}`;
                        window.location.href = url;
                    }
                    // Ï¥àÍ∏∞ ÌôîÎ©¥ ÏÑ∏ÌåÖ
                    updateMonthDisplay();
                </script>
                {% endblock %}
                
            <div id="search-form-area" style="display: none;">
                <div class="search-form-controls">
                    <input type="date" id="search-start-date-input" class="search-date-input">
                    <span>~</span>
                    <input type="date" id="search-end-date-input" class="search-date-input">
                </div>
                <div class="search-form-buttons">
                    <button id="search-expense-btn" class="search-filter-btn">ÏßÄÏ∂ú</button>
                    <button id="search-income-btn" class="search-filter-btn">ÏàòÏûÖ</button>
                    <button id="search-reset-btn" class="search-action-btn">Ï¥àÍ∏∞Ìôî</button>
                    <button id="execute-search-btn" class="search-action-btn">Í≤ÄÏÉâ</button>
                </div>
            </div>

                <div class="header-right-icons">
                    <span class="material-icons search-icon" id="toggle-search-btn">search</span>
                    <svg xmlns="http://www.w3.org/2000/svg" 
                        width="24" height="24" 
                        viewBox="0 0 24 24" 
                        class="excel-icon">
                        <rect width="24" height="24" fill="#21A366" rx="4"/>
                        <path d="M7 7h3v2H7v6h3v2H7v2H5V5h2v2zM11 9h2v6h-2zM15 9h2v6h-2z" fill="white"/>
                    </svg>      
                </div>
            </div>
            <!-- Í≤ÄÏÉâ Í≤∞Í≥º -->
            <div class="search-results-container">
                <div class="search-summary">
                    <div class="search-results-text">Í≤ÄÏÉâÍ≤∞Í≥º : <span id="search-count">n</span>Í±¥</div>
                    <div class="search-period">Í∏∞Í∞Ñ <span id="search-start-date">ÎÖÑ.Ïõî.Ïùº</span> ~ <span id="search-end-date">ÎÖÑ.Ïõî.Ïùº</span></div>
                </div>
                <div class="search-filters">
                    <button class="filter-btn">ÏûêÏÇ∞</button>
                    <button class="filter-btn">ÏßÄÏ∂ú</button>
                    <button class="filter-btn">ÏàòÏûÖ</button>
                    <button class="filter-btn">Í∏àÏï°</button>
                </div>
            </div>
    <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† Î∞ïÏä§ -->
    <div class="content-box">

        <!-- Ï†ÑÏ≤¥, ÏàòÏûÖ, ÏßÄÏ∂ú, Ïù¥Ï≤¥ -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-label">Ï†ÑÏ≤¥</div>
                <div class="stat-value">${{ total_assets|intcomma }}</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">ÏàòÏûÖ</div>
                <div class="stat-value green">${{ monthly_income|intcomma }}</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">ÏßÄÏ∂ú</div>
                <div class="stat-value red">${{ monthly_expense|intcomma }}</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">ÏùÄÌñâ</div>
                <div class="stat-value">${{ total_bank_balance|intcomma }}</div>
            </div>
        </div>

        <!-- ÏïåÎ¶º Î∞î -->
        <div class="alert-bar">
            <div class="alert-bar-text">
                <span class="material-icons">info</span>
                <span>2Í∞ú ÎÇ¥Ïó≠Ïù¥ ÏÑ†ÌÉùÎêòÏóàÏäµÎãàÎã§.</span>
            </div>
            <div class="alert-actions">
                <span class="material-icons delete" data-delete-url="{% url 'account_book:delete_transactions' %}">delete</span>
                <button class="alert-close-button">&times;</button>
            </div>
        </div>

        <!-- Î©îÏù∏ ÌÖåÏù¥Î∏î -->
        <div class="table-container">
            <table class="transaction-table">
                <thead>
                    <tr class="table-header">
                        <th><input type="checkbox"></th>
                        <th>ÎÇ†Ïßú</th>
                        <th>Íµ¨Î∂Ñ</th>
                        <th>ÏûêÏÇ∞Ï¢ÖÎ•ò</th>
                        <th>Ïπ¥ÌÖåÍ≥†Î¶¨</th>
                        <th>Í∏àÏï°</th>
                        <th>ÎÇ¥Ïö©</th>
                        <th>Î©îÎ™®</th>
                    </tr>
                </thead>
                <tbody id="record-list">
                    {% for transaction in transactions %}
                    <tr data-id="{{ transaction.id }}">
                        <td><input type="checkbox" data-id="{{ transaction.id }}"></td>
                        <td>{{ transaction.date|date:"Y-m-d" }}</td>
                        <td>{{ transaction.side }}</td>
                        <td>{{ transaction.asset_type }}</td> {# Now uses 'asset_type' from dictionary #}
                        <td>{{ transaction.category|default:"" }}</td>
                        <td>${{ transaction.amount|intcomma }}</td>
                        <td>{{ transaction.content }}</td>
                        <td>
                            {{ transaction.memo|default:"" }}
                            {% if transaction.photo_url %}
                                <a href="{{ transaction.photo_url }}" target="_blank" title="ÏÇ¨ÏßÑ Î≥¥Í∏∞">üì∑</a>
                            {% endif %}
                        </td>
                    </tr>
                    {% empty %}
                    <!-- Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏùÑ Îïå -->
                    {% endfor %}
                </tbody>
            </table>
        </div>

    </div>

    <!-- ÌîåÎ°úÌåÖ Î≤ÑÌäº (Î∞ïÏä§ Î∞ñÏóê Îë¨Ïïº Í≤πÏπòÏßÄ ÏïäÏùå) -->
    <div class="add-button-container">
        <button class="add-button" id="open-down-panel-btn">
            <span class="material-icons">playlist_add</span>
        </button>
        <button class="add-button add-button-large" id="open-single-panel-btn">
            <span class="material-icons">add</span>
        </button>
    </div>

    <!-- Down Panel (Îã§Í±¥ÏûÖÎ†•) -->
    <div id="down-panel">
        <div class="down-panel-header">
            <span class="down-panel-title">Îã§Í±¥ ÏûÖÎ†•</span>
            <button id="close-down-panel-btn" class="close-button">
                <span class="material-icons">close</span>
            </button>
        </div>
        <div class="down-panel-content">
            <div class="excel-table-container">
                <table class="excel-table">
                    <thead>
                        <tr>
                            <th></th> <!-- # -->
                            <th>Íµ¨Î∂Ñ</th>
                            <th>ÎÇ†Ïßú</th>
                            <th>ÏûêÏÇ∞Ï¢ÖÎ•ò</th>
                            <th>Î∂ÑÎ•ò</th>
                            <th>Í∏àÏï°</th>
                            <th>ÎÇ¥Ïö©</th>
                            <th>Î©îÎ™®</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- 10 data rows -->
                        <tr>
                            <th>1</th>
                            <td> <!-- B1 -->
                                <select class="type-select">
                                    <option value="">--ÏÑ†ÌÉù--</option>
                                    <option value="ÏàòÏûÖ">ÏàòÏûÖ</option>
                                    <option value="ÏßÄÏ∂ú">ÏßÄÏ∂ú</option>
                                </select>
                            </td>    
                            <!-- CÏó¥ (ÎÇ†Ïßú) -->
                            <td class="date-cell">
                                <input type="text" class="bulk-date-input">
                                
                            </td>
                            <!-- DÏó¥ (ÏûêÏÇ∞Ï¢ÖÎ•ò) -->
                            <td>
                                <select>
                                <option value="">--ÏÑ†ÌÉù--</option>
                                <option value="ÌòÑÍ∏à">ÌòÑÍ∏à</option>
                                <option value="ÏùÄÌñâ">ÏùÄÌñâ</option>
                                <option value="Ïπ¥Îìú">Ïπ¥Îìú</option>
                                </select>
                            </td>
                            <!-- EÏó¥ (Ïπ¥ÌÖåÍ≥†Î¶¨) -->
                            <td>
                            <select class="category-select">
                                <option value="">--Î∂ÑÎ•ò--</option>
                            </select>
                            </td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><button class="delete-row">√ó</button></td>
                        </tr>
                        <tr>
                            <th>2</th>
                            <td> <!-- B1 -->
                                <select class="type-select">
                                    <option value="">--ÏÑ†ÌÉù--</option>
                                    <option value="ÏàòÏûÖ">ÏàòÏûÖ</option>
                                    <option value="ÏßÄÏ∂ú">ÏßÄÏ∂ú</option>
                                </select>
                            </td>
                            <td class="date-cell">
                                <input type="text" class="bulk-date-input">
                                
                            </td>
                            <td>
                                <select>
                                <option value="">--ÏÑ†ÌÉù--</option>
                                <option value="ÌòÑÍ∏à">ÌòÑÍ∏à</option>
                                <option value="ÏùÄÌñâ">ÏùÄÌñâ</option>
                                <option value="Ïπ¥Îìú">Ïπ¥Îìú</option>
                                </select>
                            </td>
                            <td>
                            <select class="category-select">
                                <option value="">--Î∂ÑÎ•ò--</option>
                            </select>
                            </td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><button class="delete-row">√ó</button></td>
                        </tr>
                        <tr>
                            <th>3</th>
                            <td> <!-- B1 -->
                                <select class="type-select">
                                    <option value="">--ÏÑ†ÌÉù--</option>
                                    <option value="ÏàòÏûÖ">ÏàòÏûÖ</option>
                                    <option value="ÏßÄÏ∂ú">ÏßÄÏ∂ú</option>
                                </select>
                            </td>
                            <td class="date-cell">
                                <input type="text" class="bulk-date-input">
                                
                            </td>
                            <td>
                                <select>
                                <option value="">--ÏÑ†ÌÉù--</option>
                                <option value="ÌòÑÍ∏à">ÌòÑÍ∏à</option>
                                <option value="ÏùÄÌñâ">ÏùÄÌñâ</option>
                                <option value="Ïπ¥Îìú">Ïπ¥Îìú</option>
                                </select>
                            </td>
                            <td>
                            <select class="category-select">
                                <option value="">--Î∂ÑÎ•ò--</option>
                            </select>
                            </td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><button class="delete-row">√ó</button></td>
                        </tr>
                        <tr>
                            <th>4</th>
                            <td> <!-- B1 -->
                                <select class="type-select">
                                    <option value="">--ÏÑ†ÌÉù--</option>
                                    <option value="ÏàòÏûÖ">ÏàòÏûÖ</option>
                                    <option value="ÏßÄÏ∂ú">ÏßÄÏ∂ú</option>
                                </select>
                            </td>
                            <td class="date-cell">
                                <input type="text" class="bulk-date-input">
                                
                            </td>
                            <td>
                                <select>
                                <option value="">--ÏÑ†ÌÉù--</option>
                                <option value="ÌòÑÍ∏à">ÌòÑÍ∏à</option>
                                <option value="ÏùÄÌñâ">ÏùÄÌñâ</option>
                                <option value="Ïπ¥Îìú">Ïπ¥Îìú</option>
                                </select>
                            </td>
                            <td>
                            <select class="category-select">
                                <option value="">--Î∂ÑÎ•ò--</option>
                            </select>
                            </td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><button class="delete-row">√ó</button></td>
                        </tr>
                        <tr>
                            <th>5</th>
                            <td> <!-- B1 -->
                                <select class="type-select">
                                    <option value="">--ÏÑ†ÌÉù--</option>
                                    <option value="ÏàòÏûÖ">ÏàòÏûÖ</option>
                                    <option value="ÏßÄÏ∂ú">ÏßÄÏ∂ú</option>
                                </select>
                            </td>
                            <td class="date-cell">
                                <input type="text" class="bulk-date-input">
                                
                            </td>
                            <td>
                                <select>
                                <option value="">--ÏÑ†ÌÉù--</option>
                                <option value="ÌòÑÍ∏à">ÌòÑÍ∏à</option>
                                <option value="ÏùÄÌñâ">ÏùÄÌñâ</option>
                                <option value="Ïπ¥Îìú">Ïπ¥Îìú</option>
                                </select>
                            </td>
                            <td>
                            <select class="category-select">
                                <option value="">--Î∂ÑÎ•ò--</option>
                            </select>
                            </td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><button class="delete-row">√ó</button></td>
                        </tr>
                        <tr>
                            <th>6</th>
                            <td> <!-- B1 -->
                                <select class="type-select">
                                    <option value="">--ÏÑ†ÌÉù--</option>
                                    <option value="ÏàòÏûÖ">ÏàòÏûÖ</option>
                                    <option value="ÏßÄÏ∂ú">ÏßÄÏ∂ú</option>
                                </select>
                            </td>
                            <td class="date-cell">
                                <input type="text" class="bulk-date-input">
                                
                            </td>
                            <td>
                                <select>
                                <option value="">--ÏÑ†ÌÉù--</option>
                                <option value="ÌòÑÍ∏à">ÌòÑÍ∏à</option>
                                <option value="ÏùÄÌñâ">ÏùÄÌñâ</option>
                                <option value="Ïπ¥Îìú">Ïπ¥Îìú</option>
                                </select>
                            </td>
                           <td>
                            <select class="category-select">
                                <option value="">--Î∂ÑÎ•ò--</option>
                            </select>
                            </td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><button class="delete-row">√ó</button></td>
                        </tr>
                        <tr>
                            <th>7</th>
                            <td> <!-- B1 -->
                                <select class="type-select">
                                    <option value="">--ÏÑ†ÌÉù--</option>
                                    <option value="ÏàòÏûÖ">ÏàòÏûÖ</option>
                                    <option value="ÏßÄÏ∂ú">ÏßÄÏ∂ú</option>
                                </select>
                            </td>
                            <td class="date-cell">
                                <input type="text" class="bulk-date-input">
                                
                            </td>
                            <td>
                                <select>
                                <option value="">--ÏÑ†ÌÉù--</option>
                                <option value="ÌòÑÍ∏à">ÌòÑÍ∏à</option>
                                <option value="ÏùÄÌñâ">ÏùÄÌñâ</option>
                                <option value="Ïπ¥Îìú">Ïπ¥Îìú</option>
                                </select>
                            </td>
                            <td>
                            <select class="category-select">
                                <option value="">--Î∂ÑÎ•ò--</option>
                            </select>
                            </td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><button class="delete-row">√ó</button></td>
                        </tr>
                        <tr>
                            <th>8</th>
                            <td> <!-- B1 -->
                                <select class="type-select">
                                    <option value="">--ÏÑ†ÌÉù--</option>
                                    <option value="ÏàòÏûÖ">ÏàòÏûÖ</option>
                                    <option value="ÏßÄÏ∂ú">ÏßÄÏ∂ú</option>
                                </select>
                            </td>
                            <td class="date-cell">
                                <input type="text" class="bulk-date-input">
                                
                            </td>
                            <td>
                                <select>
                                <option value="">--ÏÑ†ÌÉù--</option>
                                <option value="ÌòÑÍ∏à">ÌòÑÍ∏à</option>
                                <option value="ÏùÄÌñâ">ÏùÄÌñâ</option>
                                <option value="Ïπ¥Îìú">Ïπ¥Îìú</option>
                                </select>
                            </td>
                            <td>
                            <select class="category-select">
                                <option value="">--Î∂ÑÎ•ò--</option>
                            </select>
                            </td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><button class="delete-row">√ó</button></td>
                        </tr>
                        <tr>
                            <th>9</th>
                            <td> <!-- B1 -->
                                <select class="type-select">
                                    <option value="">--ÏÑ†ÌÉù--</option>
                                    <option value="ÏàòÏûÖ">ÏàòÏûÖ</option>
                                    <option value="ÏßÄÏ∂ú">ÏßÄÏ∂ú</option>
                                </select>
                            </td>
                            <td class="date-cell">
                                <input type="text" class="bulk-date-input">
                                
                            </td>
                            <td>
                                <select>
                                <option value="">--ÏÑ†ÌÉù--</option>
                                <option value="ÌòÑÍ∏à">ÌòÑÍ∏à</option>
                                <option value="ÏùÄÌñâ">ÏùÄÌñâ</option>
                                <option value="Ïπ¥Îìú">Ïπ¥Îìú</option>
                                </select>
                            </td>
                            <td>
                            <select class="category-select">
                                <option value="">--Î∂ÑÎ•ò--</option>
                            </select>
                            </td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><button class="delete-row">√ó</button></td>
                        </tr>
                        <tr>
                            <th>10</th>
                            <td> <!-- B1 -->
                                <select class="type-select">
                                    <option value="">--ÏÑ†ÌÉù--</option>
                                    <option value="ÏàòÏûÖ">ÏàòÏûÖ</option>
                                    <option value="ÏßÄÏ∂ú">ÏßÄÏ∂ú</option>
                                </select>
                            </td>
                            <td class="date-cell">
                                <input type="text" class="bulk-date-input">
                                
                            </td>
                            <td>
                                <select>
                                <option value="">--ÏÑ†ÌÉù--</option>
                                <option value="ÌòÑÍ∏à">ÌòÑÍ∏à</option>
                                <option value="ÏùÄÌñâ">ÏùÄÌñâ</option>
                                <option value="Ïπ¥Îìú">Ïπ¥Îìú</option>
                                </select>
                            </td>
                            <td>
                            <select class="category-select">
                                <option value="">--Î∂ÑÎ•ò--</option>
                            </select>
                            </td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><input type="text"></td>
                            <td><button class="delete-row">√ó</button></td>
                        </tr>                                                
                    </tbody>
                </table>
            </div>
            <div class="panel-footer">
                <div class="left"><button id="add-row-btn" class="add-btn">ÌñâÏ∂îÍ∞Ä</button></div>
                <div class="center"><button id="reset-btn" class="reset-btn">Ï¥àÍ∏∞Ìôî</button></div>
                <div class="right"><button id="save-bulk-btn" class="save-btn">Ï†ÄÏû•</button></div>
            </div>
        </div>
    </div>
        
    <!-- ÏûÖÎ†• Ìå®ÎÑê  -->
    <div id="input-panel" class="input-panel">
        <div class="input-panel-header">
            <!-- ÏôºÏ™Ω: Îã´Í∏∞ Î≤ÑÌäº -->
            <button id="close-panel" class="close-button">
                <span class="material-icons">close</span>
            </button>

            <!-- Í∞ÄÏö¥Îç∞: ÏûÖÎ†• ÌÉÄÏù¥ÌãÄ -->
            <span class="input-title">ÏûÖÎ†•</span>

            <!-- Ïò§Î•∏Ï™Ω: Ï¶êÍ≤®Ï∞æÍ∏∞ Î≤ÑÌäº -->
            <button id="favorite-toggle" class="favorite-button">
                <span class="material-icons">star_border</span>
            </button>
        </div>
        <form method="POST" action="{% url 'account_book:save_transaction' %}" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="hidden" name="cash_side" id="cash-side-input">
        <!-- Ìå®ÎÑê ÏàòÏûÖ/ÏßÄÏ∂ú/Ïù¥Ï≤¥ Î≤ÑÌäº -->
        <div class="transaction-type-buttons">
            <button class="type-btn income">ÏàòÏûÖ</button>
            <button class="type-btn expense">ÏßÄÏ∂ú</button>
        </div>
        <!-- Ìå®ÎÑê ÎÇ†Ïßú ÏÑ†ÌÉù Î∞ïÏä§ -->
        <div class="date-picker-container" id="date-picker-container">
            <span id="date-label">ÎÇ†Ïßú ÏÑ†ÌÉù</span>
            <input type="date" id="panel-date-picker" class="date-input" name="date">
        </div>

        <!-- Í∏àÏï° ÌÖçÏä§Ìä∏ -->
        <div class="amount-section">
            <p class="amount-label">Í∏àÏï°</p>
            <div class="amount-input-wrapper">
                <span class="currency-symbol">$</span>
                <input type="text" inputmode="numeric" class="amount-input" id="amount-input" placeholder="0" name="amount">
            </div>
        </div>
        <!-- Ïπ¥ÌÖåÍ≥†Î¶¨ ÏÑ†ÌÉùÎ∞ïÏä§-->
        <div class="category-section">
            <p class="category-label">Î∂ÑÎ•ò</p>
            <select id="category-select" class="category-dropdown" name="category">
                <option value="" disabled selected></option>
                {% for category in categories %}
                    <option value="{{ category.id }}">{{ category.cat_type }}</option>
                {% endfor %}
        </select>
        <!-- ÏûêÏÇ∞Ï¢ÖÎ•ò ÏÑ†ÌÉùÎ∞ïÏä§ -->
        <div class="asset-section">
            <p class="asset-label">ÏûêÏÇ∞Ï¢ÖÎ•ò</p>
            <select id="asset-select" class="asset-dropdown">
                <option value="" disabled selected></option> <!-- Ï≤òÏùåÏóî ÎπàÏπ∏ -->
                <option value="cash">ÌòÑÍ∏à</option>
                <option value="bank">ÏùÄÌñâ</option>
                <option value="card">Ïπ¥Îìú</option>
            </select>
        </div>
        <!-- ÎÇ¥Ïö© ÏûÖÎ†• -->
        <div class="content-section">
            <p class="content-label">ÎÇ¥Ïö©</p>
            <div class="content-input-wrapper">
                <input type="text" id="content-input" class="content-input" placeholder="ÎÇ¥Ïö© ÏûÖÎ†•" name="content">
                <span id="clear-btn" class="clear-btn">√ó</span>
            </div>
        </div>
        <!-- Î©îÎ™® ÏûÖÎ†• -->
        <div class="memo-section">
            <p class="memo-label">Î©îÎ™®</p>
            <div class="memo-input-wrapper">
                <textarea id="memo-input" class="memo-input" placeholder="Î©îÎ™® ÏûÖÎ†•" name="memo"></textarea>
                <!-- ÏÇ¨ÏßÑ Ï≤®Î∂Ä Î≤ÑÌäº -->
                <label for="photo-input" class="photo-btn">
                    üì∑
                </label>
                <input type="file" name="photo" id="photo-input" style="display: none;">
            </div>  
        </div>
        <!-- Ï†ÄÏû•/Í≥ÑÏÜçÎ≤ÑÌäº -->
        <div class="button-group">
            <button type="submit" class="save-btn" id="save-single-btn">Ï†ÄÏû•</button>
            <button class="continue-btn">Í≥ÑÏÜç</button>
        </div>
        </form>
    </div>    

    <script>
        const homeUrl = "{% url 'account_book:home' %}";
    </script>
    <script src="{% static 'account_book/js/date.js' %}"></script>
    <script src="{% static 'account_book/js/panel.js' %}"></script>
    <script src="{% static 'account_book/js/downpanel.js' %}"></script>
    <script src="{% static 'account_book/js/home.js' %}"></script>